<div class="bbcode-toolbar" role="toolbar" aria-label="Text formatting options">
    <!-- Text formatting group -->
    <div class="toolbar-group" role="group" aria-label="Text formatting">
        <button type="button" data-action="clear-formatting" title="Remove formatting" aria-label="Remove formatting" class="toolbar-btn">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"/></svg>
        </button>
        <button type="button" data-bbcode="b" title="Bold (Ctrl+B)" aria-label="Bold" class="toolbar-btn">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"/></svg>
        </button>
        <button type="button" data-bbcode="i" title="Italic (Ctrl+I)" aria-label="Italic" class="toolbar-btn">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"/></svg>
        </button>
        <button type="button" data-bbcode="u" title="Underline (Ctrl+U)" aria-label="Underline" class="toolbar-btn">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/></svg>
        </button>
        <button type="button" data-bbcode="s" title="Strikethrough" aria-label="Strikethrough" class="toolbar-btn">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M10 19h4v-3h-4v3zM5 4v3h5v3h4V7h5V4H5zM3 14h18v-2H3v2z"/></svg>
        </button>
        <div class="toolbar-dropdown">
            <button type="button" class="toolbar-btn toolbar-dropdown-toggle" title="Font size" aria-label="Font size" aria-haspopup="true" aria-expanded="false">
                <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M9 4v3h5v12h3V7h5V4H9zm-6 8h3v7h3v-7h3V9H3v3z"/></svg>
                <svg class="dropdown-arrow" viewBox="0 0 24 24" width="12" height="12" fill="currentColor"><path d="M7 10l5 5 5-5z"/></svg>
            </button>
            <div class="toolbar-dropdown-menu" role="listbox">
                <button type="button" data-bbcode="size" data-param="9" role="option">9</button>
                <button type="button" data-bbcode="size" data-param="10" role="option">10</button>
                <button type="button" data-bbcode="size" data-param="12" role="option">12</button>
                <button type="button" data-bbcode="size" data-param="15" role="option">15</button>
                <button type="button" data-bbcode="size" data-param="18" role="option">18</button>
                <button type="button" data-bbcode="size" data-param="22" role="option">22</button>
                <button type="button" data-bbcode="size" data-param="26" role="option">26</button>
            </div>
        </div>
        <div class="toolbar-dropdown">
            <button type="button" class="toolbar-btn toolbar-dropdown-toggle color-picker-toggle" title="Text color" aria-label="Text color" aria-haspopup="true" aria-expanded="false">
                <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>
                <svg class="dropdown-arrow" viewBox="0 0 24 24" width="12" height="12" fill="currentColor"><path d="M7 10l5 5 5-5z"/></svg>
            </button>
            <div class="toolbar-dropdown-menu toolbar-color-menu" role="listbox">
                <button type="button" data-bbcode="color" data-param="red" role="option" class="color-swatch" style="background:#e53935" title="Red"></button>
                <button type="button" data-bbcode="color" data-param="orange" role="option" class="color-swatch" style="background:#ff9800" title="Orange"></button>
                <button type="button" data-bbcode="color" data-param="yellow" role="option" class="color-swatch" style="background:#fdd835" title="Yellow"></button>
                <button type="button" data-bbcode="color" data-param="green" role="option" class="color-swatch" style="background:#43a047" title="Green"></button>
                <button type="button" data-bbcode="color" data-param="blue" role="option" class="color-swatch" style="background:#1e88e5" title="Blue"></button>
                <button type="button" data-bbcode="color" data-param="purple" role="option" class="color-swatch" style="background:#8e24aa" title="Purple"></button>
                <button type="button" data-bbcode="color" data-param="pink" role="option" class="color-swatch" style="background:#e91e63" title="Pink"></button>
                <button type="button" data-bbcode="color" data-param="white" role="option" class="color-swatch" style="background:#fff;border:1px solid #ccc" title="White"></button>
                <button type="button" data-bbcode="color" data-param="black" role="option" class="color-swatch" style="background:#212121" title="Black"></button>
                <button type="button" data-bbcode="color" data-param="gray" role="option" class="color-swatch" style="background:#757575" title="Gray"></button>
                <button type="button" data-bbcode="color" role="option" class="color-custom-btn">Custom...</button>
            </div>
        </div>
    </div>

    <!-- Lists and structure group -->
    <div class="toolbar-group" role="group" aria-label="Lists and structure">
        <div class="toolbar-dropdown">
            <button type="button" class="toolbar-btn toolbar-dropdown-toggle" title="List" aria-label="Insert list" aria-haspopup="true" aria-expanded="false">
                <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"/></svg>
                <svg class="dropdown-arrow" viewBox="0 0 24 24" width="12" height="12" fill="currentColor"><path d="M7 10l5 5 5-5z"/></svg>
            </button>
            <div class="toolbar-dropdown-menu" role="listbox">
                <button type="button" data-bbcode="list" data-param="1" role="option">
                    <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/></svg>
                    Numbered list
                </button>
                <button type="button" data-bbcode="list" role="option">
                    <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"/></svg>
                    Bullet list
                </button>
            </div>
        </div>
        <div class="toolbar-dropdown">
            <button type="button" class="toolbar-btn toolbar-dropdown-toggle" title="Alignment" aria-label="Text alignment" aria-haspopup="true" aria-expanded="false">
                <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/></svg>
                <svg class="dropdown-arrow" viewBox="0 0 24 24" width="12" height="12" fill="currentColor"><path d="M7 10l5 5 5-5z"/></svg>
            </button>
            <div class="toolbar-dropdown-menu" role="listbox">
                <button type="button" data-bbcode="left" role="option">
                    <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/></svg>
                    Align left
                </button>
                <button type="button" data-bbcode="center" role="option">
                    <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/></svg>
                    Align center
                </button>
                <button type="button" data-bbcode="right" role="option">
                    <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/></svg>
                    Align right
                </button>
            </div>
        </div>
    </div>

    <!-- Insert content group -->
    <div class="toolbar-group" role="group" aria-label="Insert content">
        <button type="button" data-bbcode="url" title="Insert link (Ctrl+K)" aria-label="Insert link" class="toolbar-btn">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg>
        </button>
        <button type="button" data-bbcode="img" title="Insert image (Ctrl+P)" aria-label="Insert image" class="toolbar-btn">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>
        </button>
        <button type="button" data-bbcode="video" title="Insert video" aria-label="Insert video" class="toolbar-btn">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/></svg>
        </button>
        <button type="button" data-bbcode="quote" title="Quote" aria-label="Insert quote" class="toolbar-btn">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/></svg>
        </button>
        <button type="button" data-bbcode="code" title="Code block" aria-label="Insert code block" class="toolbar-btn">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/></svg>
        </button>
        <button type="button" data-bbcode="spoiler" title="Spoiler" aria-label="Insert spoiler" class="toolbar-btn">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"/></svg>
        </button>
        <button type="button" data-bbcode="hr" title="Horizontal rule" aria-label="Insert horizontal rule" class="toolbar-btn">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M4 11h16v2H4z"/></svg>
        </button>
    </div>

    <!-- Actions group (right side) -->
    <div class="toolbar-group toolbar-group--actions" role="group" aria-label="Actions">
        <button type="button" data-action="undo" title="Undo (Ctrl+Z)" aria-label="Undo" class="toolbar-btn">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/></svg>
        </button>
        <button type="button" data-action="redo" title="Redo (Ctrl+Y)" aria-label="Redo" class="toolbar-btn">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/></svg>
        </button>
        <button type="button" data-action="preview" title="Preview" aria-label="Preview" class="toolbar-btn preview-btn">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
        </button>
        <button type="button" data-action="toggle-mode" title="Toggle BBCode mode" aria-label="Toggle editor mode" class="toolbar-btn mode-toggle-btn">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/></svg>
        </button>
    </div>
</div>
