{% extends "container/public.html" %}

{% block content %}
<div class="thread">
    <div class="thread-header">
        <div class="thread-title-section">
            <h1>New Conversation</h1>
        </div>
        <div class="thread-actions">
            <a href="/conversations" class="action-button action-button--secondary">‚Üê Back to Inbox</a>
        </div>
    </div>

    <form id="reply-form" action="/conversations/new" method="post" class="conversation-form">
        <div class="form-group">
            <label for="recipient_usernames">Recipients</label>
            <input
                type="text"
                id="recipient_usernames"
                name="recipient_usernames"
                placeholder="Enter usernames separated by commas"
                required
                autocomplete="off"
            />
            <small>Enter one or more usernames separated by commas</small>
        </div>

        <div class="form-group">
            <label for="title">Title (optional)</label>
            <input
                type="text"
                id="title"
                name="title"
                placeholder="Give this conversation a title"
                maxlength="255"
            />
        </div>

        <h2>First Message</h2>
        <div class="bbcode-editor-container">
            {% include "components/bbcode_toolbar.html" %}
            <textarea
                id="reply-textarea"
                name="message"
                rows="8"
                placeholder="Type your message..."
                required
            ></textarea>
        </div>
        <button type="submit">Start Conversation</button>
    </form>
</div>

<style>
    .conversation-form {
        background: var(--bg-secondary, #f8f9fa);
        padding: 20px;
        border-radius: 8px;
        border: 1px solid var(--border-color, #dee2e6);
        margin-top: 20px;
    }

    .conversation-form .form-group {
        margin-bottom: 20px;
    }

    .conversation-form .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: var(--text-color, #333);
    }

    .conversation-form .form-group input[type="text"] {
        width: 100%;
        padding: 10px;
        border: 1px solid var(--border-color, #ddd);
        border-radius: 4px;
        font-family: inherit;
        font-size: 1em;
        box-sizing: border-box;
        background: var(--bg-input, #fff);
        color: var(--text-color, #333);
    }

    .conversation-form .form-group input[type="text"]:focus {
        outline: none;
        border-color: #4a90e2;
        box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.1);
    }

    .conversation-form .form-group small {
        display: block;
        margin-top: 5px;
        color: var(--text-muted, #666);
        font-size: 0.85em;
    }

    .conversation-form h2 {
        margin: 20px 0 10px 0;
        font-size: 1.2em;
    }
</style>
{% endblock %}
