{% extends "container/public.html" %}

{% block content %}
<h2>Set New Password</h2>

{% if let Some(error) = error %}
<div class="alert alert-error">
    {{ error }}
</div>
<p><a href="/password-reset">Request a new password reset link</a></p>
{% else %}
<p>Please enter your new password.</p>

<form action="/password-reset/{{ token }}" method="post">
    <input type="hidden" name="csrf_token" value="{{ client.get_csrf_token() }}">
    <label for="password">New Password (minimum 8 characters):</label><br>
    <input type="password" id="password" name="password" placeholder="New Password" required minlength="8" class="form-input"><br>

    <label for="password_confirm">Confirm Password:</label><br>
    <input type="password" id="password_confirm" name="password_confirm" placeholder="Confirm Password" required minlength="8" class="form-input"><br>

    <input type="submit" value="Reset Password" class="form-button">
</form>
{% endif %}

<p><a href="/login">Back to Login</a></p>
{% endblock %}
