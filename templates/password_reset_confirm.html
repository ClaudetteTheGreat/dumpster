{% extends "container/public.html" %}

{% block content %}
<h2>Set New Password</h2>

{% if let Some(error) = error %}
<div style="padding: 10px; margin: 10px 0; background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; border-radius: 4px;">
    {{ error }}
</div>
<p><a href="/password-reset">Request a new password reset link</a></p>
{% else %}
<p>Please enter your new password.</p>

<form action="/password-reset/{{ token }}" method="post">
    <input type="hidden" name="csrf_token" value="{{ client.get_csrf_token() }}">
    <label for="password">New Password (minimum 8 characters):</label><br>
    <input type="password" id="password" name="password" placeholder="New Password" required minlength="8" style="width: 300px; padding: 8px; margin: 5px 0;"><br>

    <label for="password_confirm">Confirm Password:</label><br>
    <input type="password" id="password_confirm" name="password_confirm" placeholder="Confirm Password" required minlength="8" style="width: 300px; padding: 8px; margin: 5px 0;"><br>

    <input type="submit" value="Reset Password" style="padding: 8px 16px; margin: 10px 0;">
</form>
{% endif %}

<p><a href="/login">Back to Login</a></p>
{% endblock %}
